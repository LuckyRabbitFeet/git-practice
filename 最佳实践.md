# æœ€ä½³å®è·µï¼šGit ç¯‡

## ç»å¯¹ç¦æ­¢é¡¹ç›®

```bash
git push -f
```

å¤šäººé¡¹ç›®æ—¶æ¥ä¸€ä¸‹ï¼Œè¿™é…¸çˆ½ï¼Œè°åšè°çŸ¥é“

## åŸºç¡€å‘½ä»¤

### åˆå§‹åŒ–

| å‘½ä»¤                 | ä½œç”¨         |
| -------------------- | ------------ |
| git init             | åˆå§‹åŒ–ä»“åº“   |
| git clone <è¿œç¨‹ä»“åº“> | å…‹éš†è¿œç¨‹ä»“åº“ |

### çŠ¶æ€æŸ¥çœ‹

| å‘½ä»¤       | ä½œç”¨                 |
| ---------- | -------------------- |
| git status | æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çŠ¶æ€ |

### æäº¤æ‹‰å–æ¨é€

å‘½ä»¤ | ä½œç”¨
---------|----------
 git add -A | æŠŠæ‰€æœ‰æ–‡ä»¶åŠ å…¥æš‚å­˜è¿›è¡Œè·Ÿè¸ª
 git commit | æäº¤æ‰€æœ‰æš‚å­˜çš„æ–‡ä»¶
 git fetch | æ‹‰å–å½“å‰åˆ†æ”¯çš„è¿œç¨‹ä»“åº“
 git rebase <åˆ†æ”¯å> | åˆå¹¶åˆ†æ”¯ï¼Œå˜åŸº
 git push | æ¨é€æäº¤åˆ°è¿œç¨‹ä»“åº“

### åˆ†æ”¯ä¸åˆå¹¶

| å‘½ä»¤                              | ä½œç”¨                                 | å¤‡æ³¨                             |
| --------------------------------- | ------------------------------------ | -------------------------------- |
| git branch                        | æŸ¥çœ‹åˆ†æ”¯                             |                                  |
| git branch <åˆ†æ”¯å>               | åˆ›å»ºåˆ†æ”¯                             |                                  |
| git branch -vv                    | æŸ¥çœ‹åˆ†æ”¯ä¸è·Ÿè¸ªçŠ¶æ€                   |                                  |
| git branch -u [è¿œç¨‹ä»“åº“]/[åˆ†æ”¯å] | è®©å·²æœ‰çš„æœ¬åœ°åˆ†æ”¯å»è·Ÿè¸ªå·²æœ‰çš„è¿œç¨‹åˆ†æ”¯ |                                  |
| git checkout <åˆ†æ”¯å>             | åˆ‡æ¢åˆ°å·²æœ‰çš„åˆ†æ”¯                     |                                  |
| git checkout -b <åˆ†æ”¯å>          | åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯                 |                                  |
| git switch <åˆ†æ”¯å>               | åˆ‡æ¢åˆ°å·²æœ‰çš„åˆ†æ”¯                     | 2.27ç‰ˆæœ¬ä¹‹åæ›´æ–°çš„ä¸“ç”¨äºåˆ‡æ¢åˆ†æ”¯ |
| git switch -c <åˆ†æ”¯å>            | åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯                 | åŒä¸Š                             |
| git rebase <åˆ†æ”¯å>               | åˆå¹¶åˆ†æ”¯ï¼Œå˜åŸº                       |                                  |

## å‘½ä»¤è¯¦è§£

è¿™ä¸€èŠ‚å­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è§£è¯» Git çš„æ–‡æ¡£ï¼Œæ¯•ç«Ÿè‹±æ–‡æ–‡æ¡£çœ‹èµ·æ¥è¿˜æ˜¯æ²¡ä¸­æ–‡çš„é¡ºç•…

### git rebase

è¿™ä¸ªå‘½ä»¤ä¸­ <åˆ†æ”¯å> å¹¶ä¸æ˜¯å¿…é¡»å‚æ•°ï¼Œå½“ä¸æŒ‡å®š <åˆ†æ”¯å> æ—¶ï¼Œgit ä¼šæŠŠé¡¹ç›®é…ç½®æ–‡ä»¶ä¸­çš„`branch.<name>.remote`å’Œ`branch.<name>.merge`ä¸­å½“ä½œé»˜è®¤å€¼æ¥ä½¿ç”¨

## æœ€ä½³å®è·µ

## æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç 

åœ¨æ‹‰å–è¿œç¨‹åˆ†æ”¯åï¼Œä½¿ç”¨ rebase åˆå¹¶ï¼Œè¿™æ ·æ“ä½œå¯ä»¥ä½¿æäº¤è®°å½•ä¿æŒæ¸…çˆ½æ•´æ´

good ğŸ‘

```bash
git fetch
git rebase

# or

git pull --rebase
```

bad ğŸ‘

```bash
git fetch
git merge

# or

git pull
```

## è§£å†³ rebase æ—¶äº§ç”Ÿçš„å†²çª

å½“ rebase å‘ç”Ÿå†²çªæ—¶ï¼Œgit ä¼šåœæ­¢ rebase å¹¶è®©ä½ å»è§£å†³å†²çªï¼Œè§£å†³å®Œä¹‹åä¸èƒ½ç›´æ¥ commitï¼Œè€Œæ˜¯åº”è¯¥ç”¨ continue å‚æ•°ç»§ç»­æ‰§è¡Œ rebase

good ğŸ‘

```bash
# è§£å†³å†²çªä¹‹å
# å¦‚æœæ˜¯åˆå¹¶ä»£ç æ—¶äº§ç”Ÿçš„å†²çªï¼Œéœ€è¦æŠŠä¿®æ”¹çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒº
git add <å†²çªçš„æ–‡ä»¶>
git rebase --continue

# or

# ä¸è§£å†³å†²çªï¼Œè¿˜åŸå› rebase ä¹‹å‰çš„çŠ¶æ€
git rebase --abort
```

bad ğŸ‘

```bash
# è§£å†³å†²çªä¹‹å
git rebase

# or

# ä»€ä¹ˆéƒ½ä¸åš
```

## åˆå¹¶å¤šä¸ª commit

å…¶å®ä½ å¹¶ä¸éœ€è¦é‚£ä¹ˆå¤š commitï¼Œå¤§é‡çç¢çš„ commit åªä¼šå¯¼è‡´æäº¤è®°å½•çš„æ··ä¹±

good ğŸ‘

```bash
$ git log --oneline --graph
* 6552ad8 (HEAD -> test) docs: commit 3
* ecc83f1 docs: commit 2
* d010d09 docs: commit 1

# æŒ‡å®šæƒ³è¦åˆå¹¶çš„commitæ•°é‡
$ git rebase -i HEAD~3
```

ä¹‹åä¼šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œå…·ä½“é…ç½®å«ä¹‰å¯æŸ¥çœ‹æ³¨é‡Š

```bash
pick d010d09 docs: commit 1
pick ecc83f1 docs: commit 2
pick 6552ad8 docs: commit 3

# Rebase e3cf73d..6552ad8 onto e3cf73d (3 commands)
#
# Commands:
# p, pick <commit> = use commit
# r, reword <commit> = use commit, but edit the commit message
# e, edit <commit> = use commit, but stop for amending
# s, squash <commit> = use commit, but meld into previous commit
# f, fixup <commit> = like "squash", but discard this commit's log message
# x, exec <command> = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with 'git rebase --continue')
# d, drop <commit> = remove commit
# l, label <label> = label current HEAD with a name
# t, reset <label> = reset HEAD to a label
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
# .       create a merge commit using the original merge commit's
# .       message (or the oneline, if no original merge commit was
# .       specified). Use -c <commit> to reword the commit message.
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
```

å‡è®¾æˆ‘ä»¬éœ€è¦æŠŠåä¸¤æ¬¡æäº¤åˆå¹¶åˆ°ç¬¬ä¸€æ¬¡æäº¤ä¸Šï¼Œ
é‚£æ ¹æ®éœ€æ±‚æŠŠæ–‡æ¡£ç¼–è¾‘å¦‚ä¸‹ï¼š

```bash
pick d010d09 docs: commit 1
s ecc83f1 docs: commit 2
s 6552ad8 docs: commit 3
```

ä¿å­˜åæ›´æ–° commit message å³å¯å®Œæˆæ“ä½œ

```bash
$ git log --oneline --graph
ee6f458 (HEAD -> test) docs: commit all
```

bad ğŸ‘

```bash
git commit -m "new commit"
git commit -m "new commit"
git commit -m "new commit"
```


